{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART } from \"./types\";\nexport const addToCart = (items, product) => dispatch => {\n  const cartItems = items.slice();\n  let AlreadyInCart = false;\n  cartItems.forEach(item => {\n    if (item.id === product.id) {\n      AlreadyInCart = true;\n      item.count++;\n    }\n  });\n\n  if (!AlreadyInCart) {\n    cartItems.push({ ...product,\n      count: 1\n    });\n  }\n\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};\nexport const removeFromCart = (items, product) => dispatch => {\n  const cartItems = items.slice().filter(element => element.id !== product.id);\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};","map":{"version":3,"sources":["/Users/jose/myprojects/ecommerce-shopping-cart/src/actions/cartActions.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","addToCart","items","product","dispatch","cartItems","slice","AlreadyInCart","forEach","item","id","count","push","localStorage","setItem","JSON","stringify","type","payload","removeFromCart","filter","element"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,SAA9C;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAqBC,QAAD,IAAc;AACzD,QAAMC,SAAS,GAAGH,KAAK,CAACI,KAAN,EAAlB;AACA,MAAIC,aAAa,GAAG,KAApB;AACAF,EAAAA,SAAS,CAACG,OAAV,CAAkBC,IAAI,IAAI;AACxB,QAAIA,IAAI,CAACC,EAAL,KAAYP,OAAO,CAACO,EAAxB,EAA4B;AAC1BH,MAAAA,aAAa,GAAG,IAAhB;AACAE,MAAAA,IAAI,CAACE,KAAL;AACD;AACF,GALD;;AAMA,MAAG,CAACJ,aAAJ,EAAkB;AAChBF,IAAAA,SAAS,CAACO,IAAV,CAAe,EAAC,GAAGT,OAAJ;AAAaQ,MAAAA,KAAK,EAAE;AAApB,KAAf;AACD;;AACDE,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAlC;AACA,SAAOD,QAAQ,CAAC;AACda,IAAAA,IAAI,EAAElB,WADQ;AAEdmB,IAAAA,OAAO,EAAE;AAACb,MAAAA,SAAS,EAAEA;AAAZ;AAFK,GAAD,CAAf;AAID,CAjBM;AAmBP,OAAO,MAAMc,cAAc,GAAG,CAACjB,KAAD,EAAQC,OAAR,KAAqBC,QAAD,IAAa;AAC7D,QAAMC,SAAS,GAAGH,KAAK,CAACI,KAAN,GAAcc,MAAd,CAAqBC,OAAO,IAAIA,OAAO,CAACX,EAAR,KAAeP,OAAO,CAACO,EAAvD,CAAlB;AACEG,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAlC;AACA,SAAOD,QAAQ,CAAC;AACda,IAAAA,IAAI,EAAEjB,gBADQ;AAEdkB,IAAAA,OAAO,EAAE;AAACb,MAAAA,SAAS,EAAEA;AAAZ;AAFK,GAAD,CAAf;AAIH,CAPM","sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART } from \"./types\";\n\nexport const addToCart = (items, product) => (dispatch) => {\n  const cartItems = items.slice();\n  let AlreadyInCart = false;\n  cartItems.forEach(item => {\n    if (item.id === product.id) {\n      AlreadyInCart = true;\n      item.count++;\n    }\n  });\n  if(!AlreadyInCart){\n    cartItems.push({...product, count: 1});\n  }\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: ADD_TO_CART,\n    payload: {cartItems: cartItems}\n  })\n}\n\nexport const removeFromCart = (items, product) => (dispatch) =>{\n  const cartItems = items.slice().filter(element => element.id !== product.id);\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n    return dispatch({\n      type: REMOVE_FROM_CART,\n      payload: {cartItems: cartItems}\n    })\n}"]},"metadata":{},"sourceType":"module"}