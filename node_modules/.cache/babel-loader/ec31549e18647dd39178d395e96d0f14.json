{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART } from \"./types\";\nexport const addToCart = (items, product) => dispatch => {\n  const cartItems = items.splice();\n  let AlreadyInCart = false;\n  cartItems.array.forEach(item => {\n    if (item.id === product.id) {\n      AlreadyInCart = true;\n      item.count++;\n    }\n  });\n\n  if (!AlreadyInCart) {\n    cartItems.push({ ...product,\n      count: 1\n    });\n  }\n\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};\nexport const removeFromCart = (items, product) => dispatch => {\n  const cartItems = items.splice().filter(element => element.id !== product.id);\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};","map":{"version":3,"sources":["/Users/jose/myprojects/ecommerce-shopping-cart/src/actions/cartActions.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","addToCart","items","product","dispatch","cartItems","splice","AlreadyInCart","array","forEach","item","id","count","push","localStorage","setItem","JSON","stringify","type","payload","removeFromCart","filter","element"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,SAA9C;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAqBC,QAAD,IAAc;AACzD,QAAMC,SAAS,GAAGH,KAAK,CAACI,MAAN,EAAlB;AACA,MAAIC,aAAa,GAAG,KAApB;AACAF,EAAAA,SAAS,CAACG,KAAV,CAAgBC,OAAhB,CAAwBC,IAAI,IAAI;AAC9B,QAAIA,IAAI,CAACC,EAAL,KAAYR,OAAO,CAACQ,EAAxB,EAA4B;AAC1BJ,MAAAA,aAAa,GAAG,IAAhB;AACAG,MAAAA,IAAI,CAACE,KAAL;AACD;AACF,GALD;;AAMA,MAAG,CAACL,aAAJ,EAAkB;AAChBF,IAAAA,SAAS,CAACQ,IAAV,CAAe,EAAC,GAAGV,OAAJ;AAAaS,MAAAA,KAAK,EAAE;AAApB,KAAf;AACD;;AACDE,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeZ,SAAf,CAAlC;AACA,SAAOD,QAAQ,CAAC;AACdc,IAAAA,IAAI,EAAEnB,WADQ;AAEdoB,IAAAA,OAAO,EAAE;AAACd,MAAAA,SAAS,EAAEA;AAAZ;AAFK,GAAD,CAAf;AAID,CAjBM;AAmBP,OAAO,MAAMe,cAAc,GAAG,CAAClB,KAAD,EAAQC,OAAR,KAAqBC,QAAD,IAAa;AAC7D,QAAMC,SAAS,GAAGH,KAAK,CAACI,MAAN,GAAee,MAAf,CAAsBC,OAAO,IAAIA,OAAO,CAACX,EAAR,KAAeR,OAAO,CAACQ,EAAxD,CAAlB;AACEG,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeZ,SAAf,CAAlC;AACA,SAAOD,QAAQ,CAAC;AACdc,IAAAA,IAAI,EAAElB,gBADQ;AAEdmB,IAAAA,OAAO,EAAE;AAACd,MAAAA,SAAS,EAAEA;AAAZ;AAFK,GAAD,CAAf;AAIH,CAPM","sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART } from \"./types\";\n\nexport const addToCart = (items, product) => (dispatch) => {\n  const cartItems = items.splice();\n  let AlreadyInCart = false;\n  cartItems.array.forEach(item => {\n    if (item.id === product.id) {\n      AlreadyInCart = true;\n      item.count++;\n    }\n  });\n  if(!AlreadyInCart){\n    cartItems.push({...product, count: 1});\n  }\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: ADD_TO_CART,\n    payload: {cartItems: cartItems}\n  })\n}\n\nexport const removeFromCart = (items, product) => (dispatch) =>{\n  const cartItems = items.splice().filter(element => element.id !== product.id);\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n    return dispatch({\n      type: REMOVE_FROM_CART,\n      payload: {cartItems: cartItems}\n    })\n}"]},"metadata":{},"sourceType":"module"}