{"ast":null,"code":"import { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"./types\";\nexport const fetchProducts = () => dispatch => {\n  fetch(\"http://localhost:8000/products\").then(res => res.json()).then(data => {\n    return dispatch({\n      type: FETCH_PRODUCTS,\n      payload: data\n    });\n  });\n};\nexport const filterProducts = (products, size) => dispatch => {\n  return dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    payload: {\n      size: size,\n      items: size === '' ? products : products.filter(cloth => cloth.availableSizes.indexOf(size.toUpperCase()) >= 0)\n    }\n  });\n};\nexport const sortProducts = (items, sort) => dispatch => {\n  const products = items.slice();\n\n  if (sort !== '') {\n    products.sort((a, b) => sort === 'lowest' ? a.price - b.price : b.price - a.price);\n  } else {\n    products.sort((a, b) => b.id - a.id);\n  }\n\n  return dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: products\n    }\n  });\n};","map":{"version":3,"sources":["/Users/jose/myprojects/ecommerce-shopping-cart/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","fetchProducts","dispatch","fetch","then","res","json","data","type","payload","filterProducts","products","size","items","filter","cloth","availableSizes","indexOf","toUpperCase","sortProducts","sort","slice","a","b","price","id"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,uBAAzB,EAAkDC,uBAAlD,QAAiF,SAAjF;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAOC,QAAD,IAAc;AAC/CC,EAAAA,KAAK,CAAC,gCAAD,CAAL,CAAwCC,IAAxC,CAA6CC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAApD,EACGF,IADH,CACQG,IAAI,IAAI;AACZ,WAAOL,QAAQ,CAAC;AACdM,MAAAA,IAAI,EAAEV,cADQ;AAEdW,MAAAA,OAAO,EAAEF;AAFK,KAAD,CAAf;AAID,GANH;AAOD,CARM;AAUP,OAAO,MAAMG,cAAc,GAAG,CAACC,QAAD,EAAWC,IAAX,KAAqBV,QAAD,IAAc;AAC9D,SAAOA,QAAQ,CAAC;AACdM,IAAAA,IAAI,EAAET,uBADQ;AAEdU,IAAAA,OAAO,EAAE;AACPG,MAAAA,IAAI,EAAEA,IADC;AAEPC,MAAAA,KAAK,EACHD,IAAI,KAAK,EAAT,GACGD,QADH,GAEIA,QAAQ,CAACG,MAAT,CACCC,KAAD,IAAWA,KAAK,CAACC,cAAN,CAAqBC,OAArB,CAA6BL,IAAI,CAACM,WAAL,EAA7B,KAAoD,CAD/D;AALC;AAFK,GAAD,CAAf;AAYD,CAbM;AAeP,OAAO,MAAMC,YAAY,GAAG,CAACN,KAAD,EAAQO,IAAR,KAAkBlB,QAAD,IAAc;AACzD,QAAMS,QAAQ,GAAGE,KAAK,CAACQ,KAAN,EAAjB;;AACA,MAAID,IAAI,KAAK,EAAb,EAAgB;AACdT,IAAAA,QAAQ,CAACS,IAAT,CAAc,CAACE,CAAD,EAAGC,CAAH,KAAUH,IAAI,KAAK,QAAV,GACtBE,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KADU,GAEpBD,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KAFf;AAGD,GAJD,MAIM;AACJb,IAAAA,QAAQ,CAACS,IAAT,CAAc,CAACE,CAAD,EAAGC,CAAH,KAAUA,CAAC,CAACE,EAAF,GAAOH,CAAC,CAACG,EAAjC;AACD;;AACD,SAAOvB,QAAQ,CAAC;AACdM,IAAAA,IAAI,EAAER,uBADQ;AAEdS,IAAAA,OAAO,EAAE;AACPW,MAAAA,IAAI,EAAEA,IADC;AAEPP,MAAAA,KAAK,EAAEF;AAFA;AAFK,GAAD,CAAf;AAOD,CAhBM","sourcesContent":["import { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"./types\";\n\nexport const fetchProducts = () => (dispatch) => {\n  fetch(\"http://localhost:8000/products\").then(res => res.json())\n    .then(data => {\n      return dispatch({\n        type: FETCH_PRODUCTS,\n        payload: data\n      });\n    });\n};\n\nexport const filterProducts = (products, size) => (dispatch) => {\n  return dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    payload: {\n      size: size,\n      items: \n        size === ''\n          ?products\n          : products.filter(\n            (cloth) => cloth.availableSizes.indexOf(size.toUpperCase()) >= 0\n          ),\n    },\n  });\n};\n\nexport const sortProducts = (items, sort) => (dispatch) => {\n  const products = items.slice();\n  if (sort !== ''){\n    products.sort((a,b) => (sort === 'lowest') ? \n    (a.price - b.price)\n    : (b.price - a.price))\n  } else{\n    products.sort((a,b) => (b.id - a.id));\n  }\n  return dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: products\n    },\n  });\n};"]},"metadata":{},"sourceType":"module"}